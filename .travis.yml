dist: bionic
language: python
python:
- '3.7'
services:
- docker
before_install:
- echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin
install:
- pip install pipenv
- pipenv install --dev
script: make test-coverage-upload
deploy:
  provider: script
  script: make docker-build docker-push
  on:
    branch: master
env:
  global:
  - secure: iViOUQKF+51mE1I+Sd1UEqJvJhtzivWYDq47gxP6TelkzC60NpuSPj0Br7Db8ZMQn/9BXJBE6IRiX/7ClAwnxMQ2uH3E7DHwI8LTxego4NOVP0T/h3Oq1h51SuuI5bPxWQ4fujK3kvkRdMvWr9VnzkTYfScq7OdeyAUuUk+3zpcDavsk/TMgsCSvYX+kKapbuLWKMxs4Blyz11jrI8HcB38pRIpUoHEjaGLOs/QQH2geRxfeVLsxkAQizjL++RlzUVCX6eH3fdhcdnzYiAy2m4Qd73ZE8c/nKNQoQeioHCaGO2OZ+zkygE6W/4nhL1nrmIEOwredAJirJ10ZJrJ0v/FEbb17pivxg2FtReSKiOgHAJIN3NIM+pUu7dklpP4CL9zYE4LnN5PGRSYAoyUg1GN9NT9e9nOl2Yzj6hK51GOq7ky+l4WS0oFEUl0SenP61w4rx2WCVuNuXzaY9QW+/vVT+JyFRjp/80ISqgfScLbj/OueJe9LXSO8S0nmBtz+ofMFu8hOLX5V0fjW9WirwTsxDM70DOL8X/c+2O9zHnbqf1OEJFf1CZu/EX1styDwBUMx+mzezc1UAGjqUlTgh3zyICXFy0Y8GevAQkRIaS4SpFbJp6297X1IJW6055wgqXkfAmdyBgDG3ezxNXec/laeC2A/Mx6KjUxg5aNtOuE=
  - secure: NCZFlmJ0dC6GATfZC5FF1SY43bfEWS86BDO6ZMIRSI9bbD7a4J07ErzhFgom+7YhPjeYQvpq0UlK1KgwWP3PTPND5mf6hNnjuGXZHYVSc43lKAeGiGZyzULEZWi4p+8spwucDcvM3QUji2p/UvbsgNqPoxgpvrV3sIGFoEVy3zu+oSS+owQppptu05jCtSpHbao53NujZneotRBUUtARhRECylAMJxLp5zrVX84Lrc7/hBoZEKTuWuxYm3LITvsrdkUhF9B33eupilz8RIIE+UAM7KWK6E4c6BcpkC1oYQQ23Rm0u6Qk8VHEngutq94C5rxpA2CP90AWwnwZzlVwOB1DL5sjWtrHWASRbxHzRjslIeHjdoneajUG3QrxxWtLjih1AvHPHFD4EFROf3QfG8vLLCBqPyXFzG/lm8EpdK6kiUec2DPWBijlQNMle6kQG0cGSSRJJdHi5FCUjLUNR9PSyZqZg5MHQ+hV4b5Gl2kJu1pyGk1kNnO2fecJGdEl/STs1aDoOAe3E16djeSKa4c3ZVE80uk1tRaz5q+tWJNeyLo+Z9bbHJNafoB6y2JV2GKCt8y5AsWHpYDUG0LMlzy7AZ7e+Pkl9GIZ4nLP64RnvpcgfKAMG+tKmGXXgDQzSb7ZXHrxjnGzp64BkNxEXrZdRJFpZz1nMJV53Bp+Y0M=
  - secure: Jzql7EWmTu12Vxo58x54WOzjMaPs409QOcnCqWH/9quwq80NYgMjEUccFD1WPhqzVbLgr8h8cqluhYQ4GvyeDW0M7kuSC8yFzXaGsSbcN22f2AJDMggK5iuR/VMshj7FbEUrVZsuFMS5ccjf8CzmK6qBZ8cvaqq3KYgdniyn4JlCsMQsK5h5eliMmKzMkdDw35kJLSlsz7jKGAwUeGsVhGw6dXbVtdqhdNQJkOkAt3HMRQnyosBD2j/+UPIkUKy0BUoo5BT1CQ0+YoXuB/zVTvdPHh9gXDf19jTdzEkZfsOwxNstUPxitp7ZOtr2w9WfoE1vA9t5f7Xv2AqnjkeHin8BAOvzgOfA3C2P0reGpOgK/noe2AIYs0kgyG3lDAgIMrs2psHw4GcoAwzVSPW4dLJKlj/6f+LT1hy3+SfhYBJXkdlue27ILIzx+DPYVIGEQZQP5y/HC51LSGJDYA2eoBVxmmcZSF7Ut5gJo22/SbYh2o/gJReyW5VT/d/MjeVP5WNfk0Sgzavq29RktCdbGybjrADbrbcAX/lJqpJFvLd3YnLBwOnDAF/M2uqes8WpGHok+Lc0teRNRxWNqIjU7fCehRI2haJt4H61jeF7qnguZuO4ooGZvX8lL6Pfue0u5cp7ofSpsYILphSfofNcM51W5dlBNR1POlvY+ZQqcO8=
notifications:
  slack:
    secure: ZTnviKA1CB3LVTEhaXHfNBgtHh/JkGvsrHFvploeZedCKGoWDHRY/dz974g6INwiP3W8H2x7gzm+5xkz9o9uIBVMsbOlTZQ/M4VsOfG9PtBShby1Wo3N2jdD2BpVVT+FZWpS5tmYULS84vTFuTSZdNKymWH8WQQYMnTrQh1MWSusAktwT37zcPP2XZoh8Y+SzLwwbCDBCq6T/z7EjTHoX8MJRxdz81p67uZLS7BvHt3e1SyP/9UCfqnxkDub47frt1ji7TzF+S7zCzw1eqKvZuN+09pmsU5Hy5cmEt95A/2iJLfGgpi8B+RdVd166BtwUX2q2YYkVo3PmboCKTSeLa172coirmZwhwV99pE5ZnFlJarh/tfV2cmy/dI+xS+9Wna3YhZEcS6sumqiIAQg6zbtnHfZxTmXvAm1Ar3IaTxxt6Chl+EcN96H01n1k1WAgphMQPUcwoWHD8WH0ol3IBQhPTooHdI9vJJECVXgr50oSRzYSIXhgYDdfS8hLaw8HbKjrvDd2v22fPakyjZGojuuE1Z30gYeBMYVgFl2ehpj6VmXyxH/3QU8hTUN10881eujuT1GtXQ5H3wYxmfUTsP2l1guVRaEdTOE+boOF2evui9t4hTkkG88wI+296D11Na5jVsg4GbliW5NkpTUS0vKO5pYWSO10ZYKKjfg0hI=
